{"version":3,"file":"static/js/6577.f8b6a4bd.chunk.js","mappings":"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","sources":["screens/Console/Configurations/SiteReplication/LookupStatus/LookupStatusTable.tsx","screens/Console/Configurations/SiteReplication/LookupStatus/Utils.tsx","screens/Console/Configurations/SiteReplication/LookupStatus/BucketEntityStatus.tsx","screens/Console/Configurations/SiteReplication/LookupStatus/PolicyEntityStatus.tsx","screens/Console/Configurations/SiteReplication/LookupStatus/GroupEntityStatus.tsx","screens/Console/Configurations/SiteReplication/LookupStatus/UserEntityStatus.tsx","screens/Console/Configurations/SiteReplication/EntityReplicationLookup.tsx","screens/Console/Configurations/SiteReplication/SiteReplicationStatus.tsx","screens/Console/Dashboard/BasicDashboard/StatusCountCard.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport { CircleIcon } from \"../../../../../icons\";\r\n\r\nconst LookupStatusTable = ({\r\n  matrixData = [],\r\n  entityName = \"\",\r\n  entityType = \"\",\r\n}: {\r\n  matrixData: any;\r\n  entityName: string;\r\n  entityType: string;\r\n}) => {\r\n  //Assumes 1st row should be a header row.\r\n  const [header = [], ...rows] = matrixData;\r\n\r\n  const tableHeader = header.map((hC: string, hcIdx: number) => {\r\n    return (\r\n      <td className=\"header-cell\" key={`${0}${hcIdx}`}>\r\n        {hC}\r\n      </td>\r\n    );\r\n  });\r\n\r\n  const tableRowsToRender = rows.map((r: any, rIdx: number) => {\r\n    return (\r\n      <tr key={`r-${rIdx + 1}`}>\r\n        {r.map((v: any, cIdx: number) => {\r\n          let indicator = null;\r\n\r\n          if (cIdx === 0) {\r\n            indicator = v;\r\n          } else if (v === \"\") {\r\n            indicator = \"\";\r\n          }\r\n          if (v === true) {\r\n            indicator = (\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  \"& .min-icon\": {\r\n                    fill: \"#4CCB92\",\r\n                    height: \"15px\",\r\n                    width: \"15px\",\r\n                  },\r\n                }}\r\n              >\r\n                <CircleIcon />\r\n              </Box>\r\n            );\r\n          } else if (v === false) {\r\n            indicator = (\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  \"& .min-icon\": {\r\n                    fill: \"#C83B51\",\r\n                    height: \"15px\",\r\n                    width: \"15px\",\r\n                  },\r\n                }}\r\n              >\r\n                <CircleIcon />\r\n              </Box>\r\n            );\r\n          }\r\n\r\n          return (\r\n            <td\r\n              key={`${rIdx + 1}${cIdx}`}\r\n              className={cIdx === 0 ? \"feature-cell\" : \"status-cell\"}\r\n            >\r\n              {indicator}\r\n            </td>\r\n          );\r\n        })}\r\n      </tr>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        marginTop: \"15px\",\r\n        table: {\r\n          width: \"100%\",\r\n          borderCollapse: \"collapse\",\r\n\r\n          \"& .feature-cell\": {\r\n            fontWeight: 600,\r\n            fontSize: \"14px\",\r\n            paddingLeft: \"15px\",\r\n          },\r\n          \"& .status-cell\": {\r\n            textAlign: \"center\",\r\n          },\r\n          \"& .header-cell\": {\r\n            textAlign: \"center\",\r\n          },\r\n          \"& tr\": {\r\n            height: \"38px\",\r\n          },\r\n          \"tr td \": {\r\n            border: \"1px solid #f1f1f1\",\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      <Box sx={{ marginTop: \"15px\", marginBottom: \"15px\" }}>\r\n        Replication status for {entityType}: <strong>{entityName}</strong>.\r\n      </Box>\r\n      <table>\r\n        <thead>\r\n          <tr>{tableHeader}</tr>\r\n        </thead>\r\n        <tbody>{tableRowsToRender}</tbody>\r\n      </table>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LookupStatusTable;\r\n","import { Box } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport { StatsResponseType } from \"../SiteReplicationStatus\";\r\n\r\nexport function syncStatus(mismatch: boolean, set: boolean): string | boolean {\r\n  if (!set) {\r\n    return \"\";\r\n  }\r\n  return !mismatch;\r\n}\r\n\r\nexport function isEntityNotFound(\r\n  sites: Partial<StatsResponseType>,\r\n  lookupList: Partial<StatsResponseType>,\r\n  lookupKey: string\r\n) {\r\n  const siteKeys: string[] = Object.keys(sites);\r\n  return siteKeys.find((sk: string) => {\r\n    // there is no way to find the type of this ! as it is an entry in the structure itself.\r\n    // @ts-ignore\r\n    const result: Record<string, any> = lookupList[sk] || {};\r\n    return !result[lookupKey];\r\n  });\r\n}\r\n\r\nexport const EntityNotFound = ({\r\n  entityType,\r\n  entityValue,\r\n}: {\r\n  entityType: string;\r\n  entityValue: string;\r\n}) => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        marginTop: \"45px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      {entityType}:{\" \"}\r\n      <Box sx={{ marginLeft: \"5px\", marginRight: \"5px\", fontWeight: 600 }}>\r\n        {entityValue}\r\n      </Box>{\" \"}\r\n      not found.\r\n    </Box>\r\n  );\r\n};\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { StatsResponseType } from \"../SiteReplicationStatus\";\r\nimport LookupStatusTable from \"./LookupStatusTable\";\r\nimport { EntityNotFound, isEntityNotFound, syncStatus } from \"./Utils\";\r\n\r\ntype BucketEntityStatusProps = Partial<StatsResponseType> & {\r\n  lookupValue?: string;\r\n};\r\nconst BucketEntityStatus = ({\r\n  bucketStats = {},\r\n  sites = {},\r\n  lookupValue = \"\",\r\n}: BucketEntityStatusProps) => {\r\n  const rowsForStatus = [\r\n    \"Tags\",\r\n    \"Policy\",\r\n    \"Quota\",\r\n    \"Retention\",\r\n    \"Encryption\",\r\n    \"Replication\",\r\n  ];\r\n\r\n  const bucketSites: Record<string, any> = bucketStats[lookupValue] || {};\r\n\r\n  if (!lookupValue) return null;\r\n\r\n  const siteKeys = Object.keys(sites);\r\n\r\n  const notFound = isEntityNotFound(sites, bucketSites, \"HasBucket\");\r\n  const resultMatrix: any = [];\r\n  if (notFound) {\r\n    return <EntityNotFound entityType={\"Bucket\"} entityValue={lookupValue} />;\r\n  } else {\r\n    const row = [];\r\n    for (let sCol = 0; sCol < siteKeys.length; sCol++) {\r\n      if (sCol === 0) {\r\n        row.push(\"\");\r\n      }\r\n      /**\r\n       * ----------------------------------\r\n       * | <blank cell>  | sit-0 | site-1 |\r\n       * -----------------------------------\r\n       */\r\n      row.push(sites[siteKeys[sCol]].name);\r\n    }\r\n    resultMatrix.push(row);\r\n    for (let fi = 0; fi < rowsForStatus.length; fi++) {\r\n      /**\r\n       * -------------------------------------------------\r\n       * | Feature Name  | site-0-status | site-1-status |\r\n       * --------------------------------------------------\r\n       */\r\n      const sfRow = [];\r\n      const feature = rowsForStatus[fi];\r\n      let sbStatus: string | boolean = \"\";\r\n\r\n      for (let si = 0; si < siteKeys.length; si++) {\r\n        const bucketSiteDeploymentId = sites[siteKeys[si]].deploymentID;\r\n\r\n        const rSite = bucketSites[bucketSiteDeploymentId];\r\n\r\n        if (si === 0) {\r\n          sfRow.push(feature);\r\n        }\r\n\r\n        switch (fi) {\r\n          case 0:\r\n            sbStatus = syncStatus(rSite.TagMismatch, rSite.HasTagsSet);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 1:\r\n            sbStatus = syncStatus(rSite.PolicyMismatch, rSite.HasPolicySet);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 2:\r\n            sbStatus = syncStatus(rSite.QuotaCfgMismatch, rSite.HasQuotaCfgSet);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 3:\r\n            sbStatus = syncStatus(\r\n              rSite.OLockConfigMismatch,\r\n              rSite.HasOLockConfigSet\r\n            );\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 4:\r\n            sbStatus = syncStatus(rSite.SSEConfigMismatch, rSite.HasSSECfgSet);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 5:\r\n            sbStatus = syncStatus(\r\n              rSite.ReplicationCfgMismatch,\r\n              rSite.HasReplicationCfg\r\n            );\r\n            sfRow.push(sbStatus);\r\n            break;\r\n        }\r\n      }\r\n\r\n      resultMatrix.push(sfRow);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <LookupStatusTable\r\n      matrixData={resultMatrix}\r\n      entityName={lookupValue}\r\n      entityType={\"Bucket\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BucketEntityStatus;\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { StatsResponseType } from \"../SiteReplicationStatus\";\r\nimport LookupStatusTable from \"./LookupStatusTable\";\r\nimport { EntityNotFound, isEntityNotFound, syncStatus } from \"./Utils\";\r\n\r\ntype PolicyEntityStatusProps = Partial<StatsResponseType> & {\r\n  lookupValue?: string;\r\n};\r\nconst PolicyEntityStatus = ({\r\n  policyStats = {},\r\n  sites = {},\r\n  lookupValue = \"\",\r\n}: PolicyEntityStatusProps) => {\r\n  const rowsForStatus = [\"Policy\"];\r\n\r\n  const policySites: Record<string, any> = policyStats[lookupValue] || {};\r\n\r\n  if (!lookupValue) return null;\r\n\r\n  const siteKeys = Object.keys(sites);\r\n  const notFound = isEntityNotFound(sites, policySites, \"HasPolicy\");\r\n  const resultMatrix: any = [];\r\n  if (notFound) {\r\n    return <EntityNotFound entityType={\"Policy\"} entityValue={lookupValue} />;\r\n  } else {\r\n    const row = [];\r\n    for (let sCol = 0; sCol < siteKeys.length; sCol++) {\r\n      if (sCol === 0) {\r\n        row.push(\"\");\r\n      }\r\n      row.push(sites[siteKeys[sCol]].name);\r\n    }\r\n    resultMatrix.push(row);\r\n    for (let fi = 0; fi < rowsForStatus.length; fi++) {\r\n      const sfRow = [];\r\n      const feature = rowsForStatus[fi];\r\n      let sbStatus: string | boolean = \"\";\r\n\r\n      for (let si = 0; si < siteKeys.length; si++) {\r\n        const bucketSiteDeploymentId = sites[siteKeys[si]].deploymentID;\r\n\r\n        const rSite = policySites[bucketSiteDeploymentId];\r\n\r\n        if (si === 0) {\r\n          sfRow.push(feature);\r\n        }\r\n\r\n        switch (fi) {\r\n          case 0:\r\n            sbStatus = syncStatus(rSite.PolicyMismatch, rSite.HasPolicy);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n        }\r\n      }\r\n\r\n      resultMatrix.push(sfRow);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <LookupStatusTable\r\n      matrixData={resultMatrix}\r\n      entityName={lookupValue}\r\n      entityType={\"Policy\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PolicyEntityStatus;\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { StatsResponseType } from \"../SiteReplicationStatus\";\r\nimport LookupStatusTable from \"./LookupStatusTable\";\r\nimport { EntityNotFound, isEntityNotFound, syncStatus } from \"./Utils\";\r\n\r\ntype GroupEntityStatusProps = Partial<StatsResponseType> & {\r\n  lookupValue?: string;\r\n};\r\nconst UserEntityStatus = ({\r\n  groupStats = {},\r\n  sites = {},\r\n  lookupValue = \"\",\r\n}: GroupEntityStatusProps) => {\r\n  const rowsForStatus = [\"Info\", \"Policy mapping\"];\r\n\r\n  const groupSites: Record<string, any> = groupStats[lookupValue] || {};\r\n\r\n  if (!lookupValue) return null;\r\n\r\n  const siteKeys = Object.keys(sites);\r\n  const notFound = isEntityNotFound(sites, groupSites, \"HasGroup\");\r\n  const resultMatrix: any = [];\r\n  if (notFound) {\r\n    return <EntityNotFound entityType={\"Group\"} entityValue={lookupValue} />;\r\n  } else {\r\n    const row = [];\r\n    for (let sCol = 0; sCol < siteKeys.length; sCol++) {\r\n      if (sCol === 0) {\r\n        row.push(\"\");\r\n      }\r\n      /**\r\n       * ----------------------------------\r\n       * | <blank cell>  | sit-0 | site-1 |\r\n       * -----------------------------------\r\n       */\r\n      row.push(sites[siteKeys[sCol]].name);\r\n    }\r\n    resultMatrix.push(row);\r\n    for (let fi = 0; fi < rowsForStatus.length; fi++) {\r\n      /**\r\n       * -------------------------------------------------\r\n       * | Feature Name  | site-0-status | site-1-status |\r\n       * --------------------------------------------------\r\n       */\r\n      const sfRow = [];\r\n      const feature = rowsForStatus[fi];\r\n      let sbStatus: string | boolean = \"\";\r\n\r\n      for (let si = 0; si < siteKeys.length; si++) {\r\n        const bucketSiteDeploymentId = sites[siteKeys[si]].deploymentID;\r\n\r\n        const rSite = groupSites[bucketSiteDeploymentId];\r\n\r\n        if (si === 0) {\r\n          sfRow.push(feature);\r\n        }\r\n\r\n        switch (fi) {\r\n          case 0:\r\n            sbStatus = syncStatus(rSite.GroupDescMismatch, rSite.HasGroup);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 1:\r\n            sbStatus = syncStatus(rSite.PolicyMismatch, rSite.HasPolicyMapping);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n        }\r\n      }\r\n\r\n      resultMatrix.push(sfRow);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <LookupStatusTable\r\n      matrixData={resultMatrix}\r\n      entityName={lookupValue}\r\n      entityType={\"Group\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserEntityStatus;\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { StatsResponseType } from \"../SiteReplicationStatus\";\r\nimport LookupStatusTable from \"./LookupStatusTable\";\r\nimport { EntityNotFound, isEntityNotFound, syncStatus } from \"./Utils\";\r\n\r\ntype PolicyEntityStatusProps = Partial<StatsResponseType> & {\r\n  lookupValue?: string;\r\n};\r\nconst UserEntityStatus = ({\r\n  userStats = {},\r\n  sites = {},\r\n  lookupValue = \"\",\r\n}: PolicyEntityStatusProps) => {\r\n  const rowsForStatus = [\"Info\", \"Policy mapping\"];\r\n\r\n  const userSites: Record<string, any> = userStats[lookupValue] || {};\r\n\r\n  if (!lookupValue) return null;\r\n\r\n  const siteKeys = Object.keys(sites);\r\n\r\n  const notFound = isEntityNotFound(sites, userSites, \"HasUser\");\r\n\r\n  const resultMatrix: any = [];\r\n  if (notFound) {\r\n    return <EntityNotFound entityType={\"User\"} entityValue={lookupValue} />;\r\n  } else {\r\n    const row = [];\r\n    for (let sCol = 0; sCol < siteKeys.length; sCol++) {\r\n      if (sCol === 0) {\r\n        row.push(\"\");\r\n      }\r\n      row.push(sites[siteKeys[sCol]].name);\r\n    }\r\n    resultMatrix.push(row);\r\n    for (let fi = 0; fi < rowsForStatus.length; fi++) {\r\n      const sfRow = [];\r\n      const feature = rowsForStatus[fi];\r\n      let sbStatus: string | boolean = \"\";\r\n\r\n      for (let si = 0; si < siteKeys.length; si++) {\r\n        const bucketSiteDeploymentId = sites[siteKeys[si]].deploymentID;\r\n\r\n        const rSite = userSites[bucketSiteDeploymentId];\r\n\r\n        if (si === 0) {\r\n          sfRow.push(feature);\r\n        }\r\n\r\n        switch (fi) {\r\n          case 0:\r\n            sbStatus = syncStatus(rSite.UserInfoMismatch, rSite.HasUser);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n          case 1:\r\n            sbStatus = syncStatus(rSite.PolicyMismatch, rSite.HasPolicyMapping);\r\n            sfRow.push(sbStatus);\r\n            break;\r\n        }\r\n      }\r\n\r\n      resultMatrix.push(sfRow);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <LookupStatusTable\r\n      matrixData={resultMatrix}\r\n      entityName={lookupValue}\r\n      entityType={\"User\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserEntityStatus;\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Box, Grid } from \"@mui/material\";\r\nimport SelectWrapper from \"../../Common/FormComponents/SelectWrapper/SelectWrapper\";\r\nimport InputBoxWrapper from \"../../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\r\nimport RBIconButton from \"../../Buckets/BucketDetails/SummaryItems/RBIconButton\";\r\nimport { ClustersIcon } from \"../../../../icons\";\r\nimport useApi from \"../../Common/Hooks/useApi\";\r\nimport { StatsResponseType } from \"./SiteReplicationStatus\";\r\nimport BucketEntityStatus from \"./LookupStatus/BucketEntityStatus\";\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport PolicyEntityStatus from \"./LookupStatus/PolicyEntityStatus\";\r\nimport GroupEntityStatus from \"./LookupStatus/GroupEntityStatus\";\r\nimport UserEntityStatus from \"./LookupStatus/UserEntityStatus\";\r\n\r\nconst EntityReplicationLookup = () => {\r\n  const [entityType, setEntityType] = useState<string>(\"bucket\");\r\n  const [entityValue, setEntityValue] = useState<string>(\"\");\r\n\r\n  const [stats, setStats] = useState<StatsResponseType>({});\r\n  const [statsLoaded, setStatsLoaded] = useState<boolean>(false);\r\n\r\n  const [isStatsLoading, invokeSiteStatsApi] = useApi(\r\n    (res: any) => {\r\n      setStats(res);\r\n      setStatsLoaded(true);\r\n    },\r\n    (err: any) => {\r\n      setStats({});\r\n      setStatsLoaded(true);\r\n    }\r\n  );\r\n\r\n  const {\r\n    bucketStats = {},\r\n    sites = {},\r\n    userStats = {},\r\n    policyStats = {},\r\n    groupStats = {},\r\n  } = stats || {};\r\n\r\n  const getStats = (entityType: string = \"\", entityValue: string = \"\") => {\r\n    setStatsLoaded(false);\r\n    if (entityType && entityValue) {\r\n      let url = `api/v1/admin/site-replication/status?buckets=false&entityType=${entityType}&entityValue=${entityValue}&groups=false&policies=false&users=false`;\r\n      invokeSiteStatsApi(\"GET\", url);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box\r\n        sx={{\r\n          display: \"grid\",\r\n          alignItems: \"center\",\r\n          gridTemplateColumns: {\r\n            md: \".7fr .9fr 1.2fr .3fr\",\r\n            sm: \"1.2fr .7fr .7fr .3fr\",\r\n            xs: \"1fr\",\r\n          },\r\n          gap: \"15px\",\r\n        }}\r\n      >\r\n        <Box sx={{ width: \"240px\", flexGrow: \"0\" }}>\r\n          View Replication Status for a:\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            marginLeft: {\r\n              md: \"-25px\",\r\n              xs: \"0px\",\r\n            },\r\n          }}\r\n        >\r\n          <SelectWrapper\r\n            id=\"replicationEntityLookup\"\r\n            name=\"replicationEntityLookup\"\r\n            onChange={(e) => {\r\n              setEntityType(e.target.value);\r\n              setStatsLoaded(false);\r\n            }}\r\n            label=\"\"\r\n            value={entityType}\r\n            options={[\r\n              {\r\n                label: \"Bucket\",\r\n                value: \"bucket\",\r\n              },\r\n              {\r\n                label: \"User\",\r\n                value: \"user\",\r\n              },\r\n              {\r\n                label: \"Group\",\r\n                value: \"group\",\r\n              },\r\n              {\r\n                label: \"Policy\",\r\n                value: \"policy\",\r\n              },\r\n            ]}\r\n            disabled={false}\r\n          />\r\n        </Box>\r\n\r\n        <Box\r\n          sx={{\r\n            flex: 2,\r\n          }}\r\n        >\r\n          <InputBoxWrapper\r\n            id=\"replicationLookupEntityValue\"\r\n            name=\"replicationLookupEntityValue\"\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n              setEntityValue(e.target.value);\r\n              setStatsLoaded(false);\r\n            }}\r\n            placeholder={`test-${entityType}`}\r\n            label=\"\"\r\n            value={entityValue}\r\n          />\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            maxWidth: \"80px\",\r\n          }}\r\n        >\r\n          <RBIconButton\r\n            type={\"button\"}\r\n            onClick={() => {\r\n              getStats(entityType, entityValue);\r\n            }}\r\n            text={`View `}\r\n            tooltip={\"View across sites\"}\r\n            icon={<ClustersIcon />}\r\n            color={\"primary\"}\r\n            showLabelAlways\r\n            disabled={!entityValue || !entityType}\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      {isStatsLoading ? (\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          display={\"flex\"}\r\n          alignItems={\"center\"}\r\n          justifyContent={\"center\"}\r\n          marginTop={\"45px\"}\r\n        >\r\n          <Loader style={{ width: 25, height: 25 }} />\r\n        </Grid>\r\n      ) : null}\r\n\r\n      {statsLoaded ? (\r\n        <Box>\r\n          {!isStatsLoading && entityType === \"bucket\" && entityValue ? (\r\n            <BucketEntityStatus\r\n              bucketStats={bucketStats}\r\n              sites={sites}\r\n              lookupValue={entityValue}\r\n            />\r\n          ) : null}\r\n\r\n          {!isStatsLoading && entityType === \"user\" && entityValue ? (\r\n            <UserEntityStatus\r\n              userStats={userStats}\r\n              sites={sites}\r\n              lookupValue={entityValue}\r\n            />\r\n          ) : null}\r\n\r\n          {!isStatsLoading && entityType === \"group\" && entityValue ? (\r\n            <GroupEntityStatus\r\n              groupStats={groupStats}\r\n              sites={sites}\r\n              lookupValue={entityValue}\r\n            />\r\n          ) : null}\r\n\r\n          {!isStatsLoading && entityType === \"policy\" && entityValue ? (\r\n            <PolicyEntityStatus\r\n              policyStats={policyStats}\r\n              sites={sites}\r\n              lookupValue={entityValue}\r\n            />\r\n          ) : null}\r\n        </Box>\r\n      ) : null}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EntityReplicationLookup;\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport PageHeader from \"../../Common/PageHeader/PageHeader\";\r\nimport PageLayout from \"../../Common/Layout/PageLayout\";\r\nimport { Box, Grid } from \"@mui/material\";\r\nimport useApi from \"../../Common/Hooks/useApi\";\r\nimport BackLink from \"../../../../common/BackLink\";\r\nimport { IAM_PAGES } from \"../../../../common/SecureComponent/permissions\";\r\nimport ScreenTitle from \"../../Common/ScreenTitle/ScreenTitle\";\r\nimport StatusCountCard from \"../../Dashboard/BasicDashboard/StatusCountCard\";\r\nimport {\r\n  BucketsIcon,\r\n  GroupsIcon,\r\n  IAMPoliciesIcon,\r\n  RefreshIcon,\r\n  UsersIcon,\r\n} from \"../../../../icons\";\r\nimport RBIconButton from \"../../Buckets/BucketDetails/SummaryItems/RBIconButton\";\r\nimport EntityReplicationLookup from \"./EntityReplicationLookup\";\r\nimport Loader from \"../../Common/Loader/Loader\";\r\n\r\nexport type StatsResponseType = {\r\n  maxBuckets?: number;\r\n  bucketStats?: Record<string, any>;\r\n  maxGroups?: number;\r\n  groupStats?: Record<string, any>;\r\n  maxUsers?: number;\r\n  userStats?: Record<string, any>;\r\n  maxPolicies?: number;\r\n  policyStats?: Record<string, any>;\r\n  sites?: Record<string, any>;\r\n};\r\n\r\nconst SREntityStatus = ({\r\n  maxValue = 0,\r\n  entityStatObj = {},\r\n  entityTextPlural = \"\",\r\n  icon = null,\r\n}: {\r\n  maxValue: number;\r\n  entityStatObj: Record<string, any>;\r\n  entityTextPlural: string;\r\n  icon?: React.ReactNode;\r\n}) => {\r\n  const statEntityLen = Object.keys(entityStatObj || {})?.length;\r\n  return (\r\n    <Box\r\n      sx={{\r\n        border: \"1px solid #f1f1f1\",\r\n        padding: \"25px\",\r\n        maxWidth: {\r\n          sm: \"100%\",\r\n        },\r\n      }}\r\n    >\r\n      <StatusCountCard\r\n        icon={icon}\r\n        onlineCount={maxValue}\r\n        offlineCount={statEntityLen}\r\n        okStatusText={\"Synced\"}\r\n        notOkStatusText={\"Failed\"}\r\n        label={entityTextPlural}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst SiteReplicationStatus = () => {\r\n  const [stats, setStats] = useState<StatsResponseType>({});\r\n\r\n  const [isStatsLoading, invokeSiteStatsApi] = useApi(\r\n    (res: any) => {\r\n      setStats(res);\r\n    },\r\n    (err: any) => {\r\n      setStats({});\r\n    }\r\n  );\r\n\r\n  const {\r\n    maxBuckets = 0,\r\n    bucketStats = {},\r\n    maxGroups = 0,\r\n    groupStats = {},\r\n    maxUsers = 0,\r\n    userStats = {},\r\n    maxPolicies = 0,\r\n    policyStats = {},\r\n  } = stats || {};\r\n\r\n  const getStats = () => {\r\n    let url = `api/v1/admin/site-replication/status?buckets=true&groups=true&policies=true&users=true`;\r\n    invokeSiteStatsApi(\"GET\", url);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStats();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <PageHeader\r\n        label={\r\n          <BackLink\r\n            to={IAM_PAGES.SITE_REPLICATION}\r\n            label={\"Site Replication\"}\r\n          />\r\n        }\r\n      />\r\n      <PageLayout>\r\n        <ScreenTitle\r\n          title={\"Replication status from all Sites\"}\r\n          actions={\r\n            <Fragment>\r\n              <RBIconButton\r\n                onClick={() => {\r\n                  getStats();\r\n                }}\r\n                tooltip={\"Refresh\"}\r\n                text={\"Refresh\"}\r\n                showLabelAlways\r\n                icon={<RefreshIcon />}\r\n                color=\"primary\"\r\n                variant={\"contained\"}\r\n              />\r\n            </Fragment>\r\n          }\r\n        />\r\n\r\n        {!isStatsLoading ? (\r\n          <Box\r\n            sx={{\r\n              display: \"grid\",\r\n              marginTop: \"25px\",\r\n              gridTemplateColumns: {\r\n                md: \"1fr 1fr 1fr 1fr\",\r\n                sm: \"1fr 1fr\",\r\n                xs: \"1fr\",\r\n              },\r\n              gap: \"30px\",\r\n            }}\r\n          >\r\n            <SREntityStatus\r\n              entityStatObj={bucketStats}\r\n              entityTextPlural={\"Buckets\"}\r\n              maxValue={maxBuckets}\r\n              icon={<BucketsIcon />}\r\n            />\r\n            <SREntityStatus\r\n              entityStatObj={userStats}\r\n              entityTextPlural={\"Users\"}\r\n              maxValue={maxUsers}\r\n              icon={<UsersIcon />}\r\n            />\r\n            <SREntityStatus\r\n              entityStatObj={groupStats}\r\n              entityTextPlural={\"Groups\"}\r\n              maxValue={maxGroups}\r\n              icon={<GroupsIcon />}\r\n            />\r\n            <SREntityStatus\r\n              entityStatObj={policyStats}\r\n              entityTextPlural={\"Policies\"}\r\n              maxValue={maxPolicies}\r\n              icon={<IAMPoliciesIcon />}\r\n            />\r\n          </Box>\r\n        ) : (\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            display={\"flex\"}\r\n            alignItems={\"center\"}\r\n            justifyContent={\"center\"}\r\n            marginTop={\"45px\"}\r\n          >\r\n            <Loader style={{ width: 25, height: 25 }} />\r\n          </Grid>\r\n        )}\r\n\r\n        <Box\r\n          sx={{\r\n            border: \"1px solid #eaeaea\",\r\n            minHeight: {\r\n              sm: \"450px\",\r\n              xs: \"250px\",\r\n            },\r\n            marginTop: \"25px\",\r\n            padding: \"25px\",\r\n          }}\r\n        >\r\n          <EntityReplicationLookup />\r\n        </Box>\r\n      </PageLayout>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default SiteReplicationStatus;\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport { CircleIcon } from \"../../../../icons\";\r\n\r\nexport const StatusCountCard = ({\r\n  onlineCount = 0,\r\n  offlineCount = 0,\r\n  icon = null,\r\n  label = \"\",\r\n  okStatusText = \"Online\",\r\n  notOkStatusText = \"Offline\",\r\n}: {\r\n  icon: any;\r\n  onlineCount: number;\r\n  offlineCount: number;\r\n  label: string;\r\n  okStatusText?: string;\r\n  notOkStatusText?: string;\r\n}) => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        fontFamily: \"Lato,sans-serif\",\r\n        color: \"#07193E\",\r\n        maxWidth: \"321px\",\r\n        display: \"flex\",\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n        cursor: \"default\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          flex: 1,\r\n          display: \"flex\",\r\n          padding: {\r\n            sm: \"0 8px 0 8px\",\r\n            xs: \"0 10px 0 10px\",\r\n          },\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            flex: 1,\r\n            display: \"flex\",\r\n            flexFlow: \"column\",\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              fontSize: \"16px\",\r\n              fontWeight: 600,\r\n            }}\r\n          >\r\n            {label}\r\n          </Box>\r\n\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"5px\",\r\n              justifyContent: \"space-between\",\r\n              paddingBottom: {\r\n                md: \"0px\",\r\n                xs: \"10px\",\r\n              },\r\n              fontSize: {\r\n                xl: \"55px\",\r\n                lg: \"50px\",\r\n                md: \"45px\",\r\n                xs: \"35px\",\r\n              },\r\n              flexFlow: \"row\",\r\n              fontWeight: 600,\r\n\r\n              \"& .stat-text\": {\r\n                color: \"#696969\",\r\n                fontSize: \"12px\",\r\n                marginTop: \"8px\",\r\n              },\r\n              \"& .stat-value\": {\r\n                textAlign: \"center\",\r\n                height: \"50px\",\r\n              },\r\n              \"& .min-icon\": {\r\n                marginRight: \"8px\",\r\n                marginTop: \"8px\",\r\n                height: \"10px\",\r\n                width: \"10px\",\r\n              },\r\n            }}\r\n          >\r\n            <Box>\r\n              <Box className=\"stat-value\">{onlineCount}</Box>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  marginTop: \"5px\",\r\n                  \"& .min-icon\": {\r\n                    fill: \"#4CCB92\",\r\n                  },\r\n                }}\r\n              >\r\n                <CircleIcon />\r\n                <div className=\"stat-text\">{okStatusText}</div>\r\n              </Box>\r\n            </Box>\r\n\r\n            <Box>\r\n              <Box className=\"stat-value\">{offlineCount}</Box>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  marginTop: \"8px\",\r\n                  \"& .min-icon\": {\r\n                    fill: \"#C83B51\",\r\n                  },\r\n                }}\r\n              >\r\n                <CircleIcon />{\" \"}\r\n                <div className=\"stat-text\">{notOkStatusText}</div>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            width: \"20px\",\r\n            height: \"20px\",\r\n            marginTop: \"8px\",\r\n            maxWidth: \"26px\",\r\n            \"& .min-icon\": {\r\n              width: \"16px\",\r\n              height: \"16px\",\r\n            },\r\n          }}\r\n        >\r\n          {icon}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default StatusCountCard;\r\n"],"names":["matrixData","entityName","entityType","header","rows","tableHeader","map","hC","hcIdx","className","tableRowsToRender","r","rIdx","v","cIdx","indicator","Box","sx","display","alignItems","justifyContent","fill","height","width","marginTop","table","borderCollapse","fontWeight","fontSize","paddingLeft","textAlign","border","marginBottom","syncStatus","mismatch","set","isEntityNotFound","sites","lookupList","lookupKey","Object","keys","find","sk","EntityNotFound","entityValue","marginLeft","marginRight","bucketStats","lookupValue","rowsForStatus","bucketSites","siteKeys","resultMatrix","row","sCol","length","push","name","fi","sfRow","feature","sbStatus","si","rSite","deploymentID","TagMismatch","HasTagsSet","PolicyMismatch","HasPolicySet","QuotaCfgMismatch","HasQuotaCfgSet","OLockConfigMismatch","HasOLockConfigSet","SSEConfigMismatch","HasSSECfgSet","ReplicationCfgMismatch","HasReplicationCfg","policyStats","policySites","HasPolicy","groupStats","groupSites","GroupDescMismatch","HasGroup","HasPolicyMapping","userStats","userSites","UserInfoMismatch","HasUser","useState","setEntityType","setEntityValue","stats","setStats","statsLoaded","setStatsLoaded","useApi","res","err","isStatsLoading","invokeSiteStatsApi","gridTemplateColumns","md","sm","xs","gap","flexGrow","SelectWrapper","id","onChange","e","target","value","label","options","disabled","flex","InputBoxWrapper","placeholder","maxWidth","RBIconButton","type","onClick","url","getStats","text","tooltip","icon","color","showLabelAlways","Grid","item","Loader","style","GroupEntityStatus","SREntityStatus","maxValue","entityStatObj","entityTextPlural","statEntityLen","padding","StatusCountCard","onlineCount","offlineCount","okStatusText","notOkStatusText","maxBuckets","maxGroups","maxUsers","maxPolicies","useEffect","Fragment","PageHeader","BackLink","to","IAM_PAGES","PageLayout","ScreenTitle","title","actions","variant","minHeight","fontFamily","cursor","flexFlow","paddingBottom","xl","lg"],"sourceRoot":""}