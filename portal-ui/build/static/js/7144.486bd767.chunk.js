"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7144],{23804:function(e,t,n){n(72791);var i=n(11135),r=n(25787),s=n(61889),a=n(80184);t.Z=(0,r.Z)((function(e){return(0,i.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var t=e.classes,n=e.iconComponent,i=e.title,r=e.help;return(0,a.jsx)("div",{className:t.root,children:(0,a.jsxs)(s.ZP,{container:!0,children:[(0,a.jsxs)(s.ZP,{item:!0,xs:12,className:t.leftItems,children:[n,i]}),(0,a.jsx)(s.ZP,{item:!0,xs:12,className:t.helpText,children:r})]})})}))},77144:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var i=n(29439),r=n(1413),s=n(72791),a=n(61889),l=n(36151),o=n(40986),c=n(16871),d=n(11135),u=n(25787),x=n(23814),h=n(21435),j=n(83679),f=n(45248),g=n(25469),m=n(60364),b=n(37516),p=n(32291),v=n(84669),_=n(75900),k=n(87995),Z=n(81207),T=n(74794),y=n(56578),C=n(25739),P=n(23804),B=n(50896),w=n(64561),F=n(92717),E=n(33168),L=n(80184),N=function(e){var t=e.hasErrors,n=(0,g.TL)(),i=(0,E.$)().t,r=(0,m.v9)((function(e){return e.addBucket.name}));return(0,L.jsx)(h.Z,{id:"bucket-name",name:"bucket-name",error:t?i("invalid_bucket_name"):"",autoFocus:!0,onChange:function(e){n((0,w.qC)(e.target.value))},label:i("bucket_name"),value:r,required:!0})},R=n(56087),q=n(38442),S=function(e){return(0,L.jsx)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 15 15"},e),{},{children:(0,L.jsxs)("g",{id:"OpenListIcon-full",transform:"translate(4 4.984)",children:[(0,L.jsx)("g",{id:"noun_chevron_2320228",transform:"translate(0.167 4.016) rotate(-90)",children:(0,L.jsx)("path",{id:"Trazado_6842","data-name":"Trazado 6842",d:"M.422,0a.433.433,0,0,0-.3.117.37.37,0,0,0,0,.557L2.983,3.325.126,5.986a.37.37,0,0,0,0,.557.443.443,0,0,0,.6,0L3.889,3.609a.373.373,0,0,0,.126-.274.344.344,0,0,0-.126-.274L.727.127A.443.443,0,0,0,.422,0Z",transform:"translate(0 0)"})}),(0,L.jsx)("rect",{id:"Rect\xe1ngulo_896","data-name":"Rect\xe1ngulo 896",width:"0.462",height:"0.462",transform:"translate(0 1.75)",fill:"none"})]})}))},z=function(e){return(0,L.jsx)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 15 15"},e),{},{children:(0,L.jsx)("g",{id:"Grupo_2449","data-name":"Grupo 2449",transform:"translate(-140 -181)",children:(0,L.jsxs)("g",{id:"OpenListIcon-full",transform:"translate(144 250.612)",children:[(0,L.jsx)("g",{id:"noun_chevron_2320228",transform:"translate(6.827 -63.612) rotate(90)",children:(0,L.jsx)("path",{id:"Trazado_6842","data-name":"Trazado 6842",d:"M.422,6.661a.433.433,0,0,1-.3-.117.37.37,0,0,1,0-.557L2.983,3.335.126.675a.37.37,0,0,1,0-.557.443.443,0,0,1,.6,0L3.889,3.052a.373.373,0,0,1,.126.274.344.344,0,0,1-.126.274L.727,6.533a.443.443,0,0,1-.306.127Z",transform:"translate(0 0)"})}),(0,L.jsx)("rect",{id:"Rect\xe1ngulo_896","data-name":"Rect\xe1ngulo 896",width:"0.462",height:"0.462",transform:"translate(0 -61.808)",fill:"none"})]})})}))},I=function(e){var t=e.ruleText;return(0,L.jsx)(s.Fragment,{children:(0,L.jsxs)(a.ZP,{container:!0,style:{display:"flex",justifyContent:"flex-start"},children:[(0,L.jsx)(a.ZP,{item:!0,xs:1,paddingRight:1,children:(0,L.jsx)(_.EjK,{width:"16px",height:"16px",style:{color:"#18BF42"}})}),(0,L.jsx)(a.ZP,{item:!0,xs:9,paddingLeft:1,style:{color:"#8f949c",display:"flex",justifyContent:"flex-start"},children:t})]})})},O=function(e){var t=e.ruleText;return(0,L.jsx)(s.Fragment,{children:(0,L.jsxs)(a.ZP,{container:!0,style:{color:"#C83B51",display:"flex",justifyContent:"flex-start"},children:[(0,L.jsx)(a.ZP,{item:!0,xs:1,paddingRight:1,children:(0,L.jsx)(_.NvT,{width:"16px",height:"16px"})}),(0,L.jsx)(a.ZP,{item:!0,xs:9,paddingLeft:1,style:{color:"#C83B51",display:"flex",justifyContent:"flex-start"},children:t})]})})},U=function(e){var t=e.ruleText;return(0,L.jsx)(s.Fragment,{children:(0,L.jsxs)(a.ZP,{container:!0,style:{display:"flex",justifyContent:"flex-start"},children:[(0,L.jsx)(a.ZP,{item:!0,xs:1,paddingRight:1,children:(0,L.jsx)(_.J$M,{width:"12px",height:"12px",style:{color:"#8f949c"}})}),(0,L.jsx)(a.ZP,{item:!0,xs:9,paddingLeft:1,style:{color:"#8f949c",display:"flex",justifyContent:"flex-start"},children:t})]})})},V=function(e){var t=e.errorList,n=(0,E.$)().t,r=n("bucket_name_length_rule"),c=n("bucket_name_char_rule"),d=n("bucket_name_period_rule"),u=n("bucket_name_ip_rule"),x=n("bucket_name_prefix_rule"),h=n("bucket_name_suffix_rule"),j=n("bucket_name_unique_rule"),f=(0,m.v9)((function(e){return e.addBucket.name})),g=(0,s.useState)(!1),b=(0,i.Z)(g,2),p=b[0],v=b[1],_=(0,m.v9)((function(e){return e.addBucket.loading})),k=(0,i.Z)(t,7),Z=k[0],T=k[1],y=k[2],C=k[3],P=k[4],B=k[5],w=k[6];return(0,L.jsxs)(s.Fragment,{children:[(0,L.jsxs)(a.ZP,{item:!0,xs:12,children:[p?(0,L.jsxs)("span",{children:[" ",n("hide_bucket_naming_rule")," "]}):(0,L.jsx)("span",{children:n("view_bucket_naming_rule")}),(0,L.jsx)(l.Z,{variant:"text",size:"small",onClick:function(){v(!p)},children:p?(0,L.jsx)(S,{}):(0,L.jsx)(z,{})}),p&&(0,L.jsxs)(a.ZP,{container:!0,children:[(0,L.jsxs)(a.ZP,{item:!0,xs:6,children:[0===f.length?(0,L.jsx)(U,{ruleText:r}):Z?(0,L.jsx)(I,{ruleText:r}):(0,L.jsx)(O,{ruleText:r}),0===f.length?(0,L.jsx)(U,{ruleText:c}):T?(0,L.jsx)(I,{ruleText:c}):(0,L.jsx)(O,{ruleText:c}),0===f.length?(0,L.jsx)(U,{ruleText:d}):y?(0,L.jsx)(I,{ruleText:d}):(0,L.jsx)(O,{ruleText:d}),0===f.length?(0,L.jsx)(U,{ruleText:u}):C?(0,L.jsx)(I,{ruleText:u}):(0,L.jsx)(O,{ruleText:u})]}),(0,L.jsxs)(a.ZP,{item:!0,xs:6,children:[0===f.length?(0,L.jsx)(U,{ruleText:x}):P?(0,L.jsx)(I,{ruleText:x}):(0,L.jsx)(O,{ruleText:x}),0===f.length?(0,L.jsx)(U,{ruleText:h}):B?(0,L.jsx)(I,{ruleText:h}):(0,L.jsx)(O,{ruleText:h}),0===f.length?(0,L.jsx)(U,{ruleText:j}):w?(0,L.jsx)(I,{ruleText:j}):(0,L.jsx)(O,{ruleText:j})]})]})]}),_&&(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(o.Z,{})})]})},A=n(66934),M=function(){var e=(0,A.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return(0,L.jsxs)(l.Z,{component:"label",role:void 0,variant:"contained",tabIndex:-1,children:["Upload s3 config file",(0,L.jsx)(e,{type:"file",id:"fileInput"})]})},$=(0,u.Z)((function(e){return(0,d.Z)((0,r.Z)({buttonContainer:{marginTop:24,textAlign:"right","& .MuiButton-root":{marginLeft:8}},error:{color:"#b53b4b",border:"1px solid #b53b4b",padding:8,borderRadius:3},alertVersioning:{border:"#E2E2E2 1px solid",backgroundColor:"#FBFAFA",borderRadius:3,display:"flex",alignItems:"center",padding:"10px",color:"#767676","& > .min-icon ":{width:20,height:20,marginRight:10}},title:{marginBottom:8},headTitle:{fontWeight:"bold",fontSize:16,paddingLeft:8},h6title:{fontWeight:"bold",color:"#000000",fontSize:20}},(0,x.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,n=(0,E.$)().t,r=(0,g.TL)(),d=(0,c.s0)(),u=new RegExp("^[a-z0-9.-]*$"),x=new RegExp("^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(.|$)){4}$"),S=(0,m.v9)((function(e){return e.addBucket.name})),z=(0,s.useState)([]),I=(0,i.Z)(z,2),O=I[0],U=I[1],A=O.filter((function(e){return!e})).length>0,$=(0,s.useState)([]),G=(0,i.Z)($,2),K=G[0],W=G[1],D=(0,m.v9)((function(e){return e.addBucket.versioningEnabled})),J=(0,m.v9)((function(e){return e.addBucket.lockingEnabled})),Q=(0,m.v9)((function(e){return e.addBucket.quotaEnabled})),H=(0,m.v9)((function(e){return e.addBucket.quotaSize})),X=(0,m.v9)((function(e){return e.addBucket.quotaUnit})),Y=(0,m.v9)((function(e){return e.addBucket.retentionEnabled})),ee=(0,m.v9)((function(e){return e.addBucket.retentionMode})),te=(0,m.v9)((function(e){return e.addBucket.retentionUnit})),ne=(0,m.v9)((function(e){return e.addBucket.retentionValidity})),ie=(0,m.v9)((function(e){return e.addBucket.loading})),re=(0,m.v9)((function(e){return e.addBucket.invalidFields})),se=(0,m.v9)((function(e){return e.addBucket.lockingFieldDisabled})),ae=(0,m.v9)(k.N5),le=(0,m.v9)(k.gw),oe=(0,m.v9)((function(e){return e.addBucket.navigateTo})),ce=(0,q.F)("*",[R.Ft.S3_PUT_BUCKET_VERSIONING,R.Ft.S3_PUT_BUCKET_OBJECT_LOCK_CONFIGURATION]);(0,s.useEffect)((function(){var e=[!(S.length<3||S.length>63),u.test(S),!(S.includes(".-")||S.includes("-.")||S.includes("..")),!x.test(S),!S.startsWith("xn--"),!S.endsWith("-s3alias"),!K.includes(S)];U(e)}),[S]),(0,s.useEffect)((function(){Z.Z.invoke("GET","/api/v1/buckets").then((function(e){var t=[];null!=e.buckets&&e.buckets.length>0&&e.buckets.forEach((function(e){t.push(e.name)})),W(t)})).catch((function(e){r((0,k.Ih)(e))}))}),[r]);return(0,s.useEffect)((function(){if(""!==oe){var e="".concat(oe);r((0,w.Fx)()),d(e)}}),[oe,d,r]),(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(p.Z,{label:(0,L.jsx)(v.Z,{to:"/buckets",label:"Buckets"})}),(0,L.jsx)(T.Z,{children:(0,L.jsx)(C.Z,{title:n("create_bucket"),icon:(0,L.jsx)(_.wNb,{}),helpbox:(0,L.jsx)(P.Z,{iconComponent:(0,L.jsx)(_.wNb,{}),title:"Buckets",help:(0,L.jsxs)(s.Fragment,{children:[n("create_buckets_intro"),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:n("versioning")}),n("versioning_info"),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:n("object_locking")}),n("object_locking_info")," ",ce?"":(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsxs)("span",{children:[n("option_enabling")," ",(0,L.jsx)("i",{children:"s3:PutBucketObjectLockConfiguration"})," and"," ",(0,L.jsx)("i",{children:"s3:PutBucketVersioning"})," permissions must be set."]})]}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:n("quota")})," ",n("quota_info"),ce&&(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)("b",{children:n("retention")}),n("retention_info")]}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{})]})}),children:(0,L.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),r((0,F.I)())},children:[(0,L.jsxs)(a.ZP,{container:!0,marginTop:1,spacing:2,children:[(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(N,{hasErrors:A})}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(M,{})}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(V,{errorList:O})}),(0,L.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,L.jsx)(B.Z,{children:n("features")}),!ae&&(0,L.jsxs)(s.Fragment,{children:[(0,L.jsxs)("div",{className:t.error,children:[n("features_unavailable"),(0,L.jsx)("br",{}),n("please_deploy_in")," ",(0,L.jsx)("a",{href:"https://docs.min.io/minio/baremetal/installation/deploy-minio-distributed.html?ref=con",target:"_blank",rel:"noreferrer",children:n("distributed_mode")})," ",n("to_use_these_features")]}),(0,L.jsx)("br",{}),(0,L.jsx)("br",{})]})]}),(0,L.jsxs)(a.ZP,{item:!0,xs:12,spacing:2,children:[le.enabled&&(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)("br",{}),(0,L.jsxs)("div",{className:t.alertVersioning,children:[(0,L.jsx)(_.szr,{})," Versioning setting cannot be changed as cluster replication is enabled for this site."]}),(0,L.jsx)("br",{})]}),(0,L.jsx)(b.Z,{value:"versioned",id:"versioned",name:"versioned",checked:D,onChange:function(e){r((0,w.E2)(e.target.checked))},label:n("versioning"),disabled:!ae||J||le.enabled})]}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(b.Z,{value:"locking",id:"locking",name:"locking",disabled:se||!ae||!ce,checked:J,onChange:function(e){r((0,w.j9)(e.target.checked)),e.target.checked&&!le.enabled&&r((0,w.E2)(!0))},label:n("object_locking")})}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(b.Z,{value:"bucket_quota",id:"bucket_quota",name:"bucket_quota",checked:Q,onChange:function(e){r((0,w.WC)(e.target.checked))},label:"Quota",disabled:!ae})}),Q&&ae&&(0,L.jsx)(s.Fragment,{children:(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(h.Z,{type:"string",id:"quota_size",name:"quota_size",onChange:function(e){r((0,w.Rj)(e.target.value))},label:"Capacity",value:H,required:!0,min:"1",overlayObject:(0,L.jsx)(y.Z,{id:"quota_unit",onUnitChange:function(e){r((0,w.ND)(e))},unitSelected:X,unitsList:(0,f.zQ)(["Ki"]),disabled:!1}),error:re.includes("quotaSize")?"Please enter a valid quota":""})})}),D&&ae&&ce&&(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(b.Z,{value:"bucket_retention",id:"bucket_retention",name:"bucket_retention",checked:Y,onChange:function(e){r((0,w.bc)(e.target.checked))},label:"Retention"})}),Y&&ae&&(0,L.jsxs)(s.Fragment,{children:[(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(j.Z,{currentSelection:ee,id:"retention_mode",name:"retention_mode",label:"Mode",onChange:function(e){r((0,w.VK)(e.target.value))},selectorOptions:[{value:"compliance",label:"Compliance"},{value:"governance",label:"Governance"}]})}),(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(h.Z,{type:"number",id:"retention_validity",name:"retention_validity",onChange:function(e){r((0,w.Mn)(e.target.valueAsNumber))},label:"Validity",value:String(ne),required:!0,overlayObject:(0,L.jsx)(y.Z,{id:"retention_unit",onUnitChange:function(e){r((0,w.hx)(e))},unitSelected:te,unitsList:[{value:"days",label:n("days")},{value:"years",label:n("years")}],disabled:!1})})})]})]}),(0,L.jsxs)(a.ZP,{item:!0,xs:12,className:t.buttonContainer,children:[(0,L.jsx)(l.Z,{type:"button",variant:"outlined",className:t.clearButton,onClick:function(){r((0,w.Fx)())},children:n("clear")}),(0,L.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:ie||re.length>0||A,children:n("create_bucket")})]}),ie&&(0,L.jsx)(a.ZP,{item:!0,xs:12,children:(0,L.jsx)(o.Z,{})})]})})})]})}))},25739:function(e,t,n){n(72791);var i=n(64554),r=n(50896),s=n(80184);t.Z=function(e){var t=e.children,n=e.title,a=e.helpbox,l=e.icon;return(0,s.jsxs)(i.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(r.Z,{icon:l,children:n}),(0,s.jsx)(i.Z,{sx:{height:16}}),t]}),a]})}}}]);
//# sourceMappingURL=7144.486bd767.chunk.js.map