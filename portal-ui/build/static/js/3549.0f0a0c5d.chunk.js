"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3549],{65935:function(e,n,i){i.r(n),i.d(n,{default:function(){return T}});var t=i(29439),s=i(1413),a=i(72791),c=i(16871),r=i(11135),o=i(25787),l=i(23814),d=i(61889),x=i(64554),u=i(36151),p=i(49324),m=i(92217),h=i(32291),j=i(74794),f=i(21435),g=i(37516),y=i(33168),Z=i(80184),v=function(e){var n=e.icon,i=e.description;return(0,Z.jsxs)(x.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,Z.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:i})]})},_=function(){var e=(0,y.$)().t;return(0,Z.jsxs)(x.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:[(0,Z.jsxs)(x.Z,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px",paddingBottom:"20px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,Z.jsx)(p.M9A,{}),(0,Z.jsx)("div",{children:e("service_accounts_help_intro")})]}),(0,Z.jsxs)(x.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:[(0,Z.jsxs)(x.Z,{sx:{paddingBottom:"20px"},children:[(0,Z.jsx)(v,{icon:(0,Z.jsx)(p.nO6,{}),description:e("create_service_account")}),(0,Z.jsx)(x.Z,{sx:{paddingTop:"20px"},children:e("service_accounts_info2")})]}),(0,Z.jsxs)(x.Z,{sx:{paddingBottom:"20px"},children:[(0,Z.jsx)(v,{icon:(0,Z.jsx)(p.tvm,{}),description:e("assign_custom_credentials")}),(0,Z.jsx)(x.Z,{sx:{paddingTop:"10px"},children:e("randomized_acces_credentials_are_recommended")}),(0,Z.jsx)(x.Z,{sx:{paddingTop:"10px"},children:e("service_accounts_programmatic_access")})]}),(0,Z.jsxs)(x.Z,{sx:{paddingBottom:"20px"},children:[(0,Z.jsx)(v,{icon:(0,Z.jsx)(p.v42,{}),description:e("assign_access_policies")}),(0,Z.jsx)(x.Z,{sx:{paddingTop:"10px"},children:e("specify_optional_json_IAM_policy")}),(0,Z.jsx)(x.Z,{sx:{paddingTop:"10px"},children:e("cannot_modify_option_json_IAM")})]})]}),(0,Z.jsx)(x.Z,{sx:{display:"flex",flexFlow:"column"}})]})},b=i(84669),C=i(3579),w=i(20165),k=i(56087),S=i(81207),N=i(37798),K=i(50896),P=i(84741),A=i(60680),B=i(87995),M=i(25469),T=(0,o.Z)((function(e){return(0,r.Z)((0,s.Z)((0,s.Z)({bottomContainer:{display:"flex",flexGrow:1,alignItems:"center",margin:"auto",justifyContent:"center","& div":{width:150,"@media (max-width: 900px)":{flexFlow:"column"}}}},l.DF),l.ID))}))((function(e){var n=e.classes,i=(0,M.TL)(),s=(0,c.s0)(),r=(0,y.$)().t,o=(0,a.useState)(!1),l=(0,t.Z)(o,2),v=l[0],T=l[1],z=(0,a.useState)((0,P.zO)(16)),I=(0,t.Z)(z,2),F=I[0],O=I[1],E=(0,a.useState)((0,P.zO)(32)),R=(0,t.Z)(E,2),L=R[0],D=R[1],W=(0,a.useState)(!1),H=(0,t.Z)(W,2),Y=H[0],J=H[1],V=(0,a.useState)(null),$=(0,t.Z)(V,2),G=$[0],U=$[1],Q=(0,a.useState)(!1),q=(0,t.Z)(Q,2),X=q[0],ee=q[1],ne=(0,a.useState)(""),ie=(0,t.Z)(ne,2),te=ie[0],se=ie[1];(0,a.useEffect)((function(){v&&S.Z.invoke("POST","/api/v1/service-account-credentials",{policy:te,accessKey:F,secretKey:L}).then((function(e){T(!1),U({accessKey:e.accessKey||"",secretKey:e.secretKey||"",url:e.url||""})})).catch((function(e){T(!1),i((0,B.Ih)(e))}))}),[v,T,i,te,F,L]),(0,a.useEffect)((function(){Y&&S.Z.invoke("GET","/api/v1/user/policy").then((function(e){se(JSON.stringify(JSON.parse(e),null,4))}))}),[Y]);return(0,Z.jsxs)(a.Fragment,{children:[null!==G&&(0,Z.jsx)(N.default,{newServiceAccount:G,open:null!==G,closeModal:function(){U(null),s("".concat(k.gA.ACCOUNT))},entity:"Service Account"}),(0,Z.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,Z.jsx)(h.Z,{label:(0,Z.jsx)(b.Z,{to:k.gA.ACCOUNT,label:r("service_accounts")})}),(0,Z.jsx)(j.Z,{children:(0,Z.jsxs)(x.Z,{sx:{display:"grid",padding:"25px",gap:"25px",gridTemplateColumns:{md:"2fr 1.2fr",xs:"1fr"},border:"1px solid #eaeaea"},children:[(0,Z.jsxs)(x.Z,{children:[(0,Z.jsx)(K.Z,{icon:(0,Z.jsx)(p.tVY,{}),children:r("create_service_account")}),(0,Z.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),T(!0)}(e)},children:(0,Z.jsxs)(d.ZP,{container:!0,item:!0,spacing:"20",sx:{marginTop:1},children:[(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsx)(d.ZP,{container:!0,item:!0,spacing:"20",children:(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(d.ZP,{container:!0,children:[(0,Z.jsx)(d.ZP,{item:!0,xs:1,children:(0,Z.jsx)(p.tvm,{})}),(0,Z.jsx)(d.ZP,{item:!0,children:(0,Z.jsxs)(d.ZP,{container:!0,item:!0,spacing:"20",children:[(0,Z.jsxs)(d.ZP,{item:!0,xs:12,children:[" ",(0,Z.jsx)("div",{className:n.stackedInputs,children:(0,Z.jsx)(f.Z,{value:F,label:r("access_key"),id:"accessKey",name:"accessKey",placeholder:r("enter_access_key"),onChange:function(e){O(e.target.value)}})})]}),(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsx)("div",{className:n.stackedInputs,children:(0,Z.jsx)(f.Z,{value:L,label:r("secret_key"),id:"secretKey",name:"secretKey",type:X?"text":"password",placeholder:r("enter_secret_key"),onChange:function(e){D(e.target.value)},overlayIcon:X?(0,Z.jsx)(w.Z,{}):(0,Z.jsx)(C.Z,{}),overlayAction:function(){return ee(!X)}})})})]})})]})})})}),(0,Z.jsxs)(d.ZP,{container:!0,item:!0,spacing:"20",children:[(0,Z.jsx)(d.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(d.ZP,{container:!0,children:[(0,Z.jsx)(d.ZP,{item:!0,xs:1,children:(0,Z.jsx)(p.v42,{})}),(0,Z.jsx)(d.ZP,{item:!0,xs:11,children:(0,Z.jsx)(g.Z,{value:"serviceAccountPolicy",id:"serviceAccountPolicy",name:"serviceAccountPolicy",checked:Y,onChange:function(e){J(e.target.checked)},label:r("restrict_beyond_user_policy"),tooltip:r("restrict_beyond_user_policy_tooltip")})})]})}),Y&&(0,Z.jsxs)(d.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(A.Z,{children:r("current_user_policy")})}),(0,Z.jsx)(d.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,Z.jsx)(m.Z,{value:te,onBeforeChange:function(e,n,i){se(i)},editorHeight:"350px"})})]})]}),(0,Z.jsxs)(d.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,Z.jsx)(u.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){se(""),U(null),O(""),D(""),ee(!1)},children:r("clear")}),(0,Z.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",children:r("create")})]})]})})]}),(0,Z.jsx)(_,{})]})})]})]})}))},37798:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var t=i(1413),s=i(72791),a=i(26181),c=i.n(a),r=i(11135),o=i(25787),l=i(56028),d=i(61889),x=i(77196),u=i(63466),p=i(85531),m=i(78029),h=i.n(m),j=i(49324),f=i(23814),g=i(80184),y=(0,o.Z)((function(e){return(0,r.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,t.Z)((0,t.Z)({},f.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var n=e.label,i=void 0===n?"":n,t=e.value,s=void 0===t?"":t,a=e.classes,c=void 0===a?{}:a;return(0,g.jsxs)("div",{className:c.container,children:[(0,g.jsxs)("div",{className:c.inputLabel,children:[i,":"]}),(0,g.jsx)("div",{className:c.inputWithCopy,children:(0,g.jsx)(x.Z,{value:s,readOnly:!0,endAdornment:(0,g.jsx)(u.Z,{position:"end",children:(0,g.jsx)(h(),{text:s,children:(0,g.jsx)(p.Z,{"aria-label":"copy",tooltip:"Copy",onClick:function(){},onMouseDown:function(){},edge:"end",children:(0,g.jsx)(j.TIy,{})})})})})})]})})),Z=i(89357),v=i(33168),_=i(40603),b=function(e,n){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+n),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},C=(0,o.Z)((function(e){return(0,r.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{textAlign:"right",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"}})}))((function(e){var n=e.classes,i=e.newServiceAccount,a=e.open,r=e.closeModal,o=e.entity,x=(0,v.$)().t;if(!i)return null;var u=c()(i,"console",null),p=c()(i,"idp",!1);return(0,g.jsx)(l.Z,{modalOpen:a,onClose:function(){r()},title:(0,g.jsx)("div",{className:n.promptTitle,children:(0,g.jsxs)("div",{children:[x("new")," ",o," ",x("created")]})}),titleIcon:(0,g.jsx)(j.tVY,{}),children:(0,g.jsxs)(d.ZP,{container:!0,children:[(0,g.jsxs)(d.ZP,{item:!0,xs:12,className:n.formScrollable,children:[x("a_new")," ",o," ",x("following_details"),":",!p&&u&&(0,g.jsx)(s.Fragment,{children:(0,g.jsxs)(d.ZP,{item:!0,xs:12,className:n.credentialsPanel,children:[(0,g.jsx)("div",{className:n.credentialTitle,children:x("console_credentials")}),Array.isArray(u)&&u.map((function(e,n){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{label:x("acces_key"),value:e.accessKey}),(0,g.jsx)(y,{label:x("secret_key"),value:e.secretKey})]})})),!Array.isArray(u)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{label:x("acces_key"),value:u.accessKey}),(0,g.jsx)(y,{label:x("secret_key"),value:u.secretKey})]})]})}),(null===u||void 0===u)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{label:x("acces_key"),value:i.accessKey||""}),(0,g.jsx)(y,{label:x("secret_key"),value:i.secretKey||""})]}),p?(0,g.jsx)("div",{className:n.warningBlock,children:x("please_login_configured_identity_provider")}):(0,g.jsxs)("div",{className:n.warningBlock,children:[(0,g.jsx)(Z.Z,{}),(0,g.jsx)("span",{children:x("write_these_down_only_time_displayed")})]})]}),(0,g.jsx)(d.ZP,{item:!0,xs:12,className:n.buttonContainer,children:!p&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.Z,{id:"download-button",tooltip:x("download_credentials_json_details"),text:x("download_for_import"),className:n.buttonSpacer,onClick:function(){var e={};u?e=Array.isArray(u)?u.map((function(e){return{url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"}}))[0]:{url:u.url,accessKey:u.accessKey,secretKey:u.secretKey,api:"s3v4",path:"auto"}:e={url:i.url,accessKey:i.accessKey,secretKey:i.secretKey,api:"s3v4",path:"auto"};b("credentials.json",JSON.stringify((0,t.Z)({},e)))},icon:(0,g.jsx)(j._8t,{}),variant:"contained",color:"primary"}),Array.isArray(u)&&u.length>1&&(0,g.jsx)(_.Z,{id:"download-all-button",tooltip:x("download_all_access_credentials_to_json"),text:x("download_all_access"),className:n.buttonSpacer,onClick:function(){var e={};u&&(e=u.map((function(e){return{accessKey:e.accessKey,secretKey:e.secretKey}})));b("all_credentials.json",JSON.stringify((0,t.Z)({},e)))},icon:(0,g.jsx)(j._8t,{}),variant:"contained",color:"primary"})]})})]})})}))},92217:function(e,n,i){var t=i(1413),s=i(72791),a=i(61889),c=i(30829),r=i(20068),o=i(64554),l=i(11135),d=i(25787),x=i(84570),u=i(23814),p=i(49324),m=i(40603),h=i(78029),j=i.n(h),f=i(88406),g=i(33168),y=i(80184);n.Z=(0,d.Z)((function(e){return(0,l.Z)((0,t.Z)({},u.YI))}))((function(e){var n=e.value,i=e.label,t=void 0===i?"":i,l=e.tooltip,d=void 0===l?"":l,u=e.mode,h=void 0===u?"json":u,Z=e.classes,v=e.onBeforeChange,_=(e.readOnly,e.editorHeight),b=void 0===_?"250px":_,C=(0,g.$)().t;return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)(a.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,y.jsxs)(c.Z,{className:Z.inputLabel,children:[(0,y.jsx)("span",{children:t}),""!==d&&(0,y.jsx)("div",{className:Z.tooltipContainer,children:(0,y.jsx)(r.Z,{title:d,placement:"top-start",children:(0,y.jsx)("div",{className:Z.tooltip,children:(0,y.jsx)(x.Z,{})})})})]})}),(0,y.jsx)(a.ZP,{item:!0,xs:12,style:{maxHeight:b,overflow:"auto",border:"1px solid #eaeaea"},children:(0,y.jsx)(f.Z,{value:n,language:h,onChange:function(e){v(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:b||"initial",color:"#000000"}})}),(0,y.jsx)(a.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,y.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,y.jsx)(j(),{text:n,children:(0,y.jsx)(m.Z,{tooltip:C("copy_to_clipboard"),onClick:function(){},text:"",icon:(0,y.jsx)(p.TIy,{}),color:"primary",variant:"outlined"})})})})]})}))},56028:function(e,n,i){var t=i(29439),s=i(1413),a=i(72791),c=i(60364),r=i(13400),o=i(55646),l=i(5574),d=i(65661),x=i(39157),u=i(11135),p=i(25787),m=i(23814),h=i(25469),j=i(29823),f=i(28057),g=i(87995),y=i(80184);n.Z=(0,p.Z)((function(e){return(0,u.Z)((0,s.Z)((0,s.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var n=e.onClose,i=e.modalOpen,u=e.title,p=e.children,m=e.classes,Z=e.wideLimit,v=void 0===Z||Z,_=e.noContentPadding,b=e.titleIcon,C=void 0===b?null:b,w=(0,h.TL)(),k=(0,a.useState)(!1),S=(0,t.Z)(k,2),N=S[0],K=S[1],P=(0,c.v9)((function(e){return e.system.modalSnackBar}));(0,a.useEffect)((function(){w((0,g.MK)(""))}),[w]),(0,a.useEffect)((function(){if(P){if(""===P.message)return void K(!1);"error"!==P.type&&K(!0)}}),[P]);var A=v?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},B="";return P&&(B=P.detailedErrorMsg,(""===P.detailedErrorMsg||P.detailedErrorMsg.length<5)&&(B=P.message)),(0,y.jsxs)(l.Z,(0,s.Z)((0,s.Z)({open:i,classes:m},A),{},{scroll:"paper",onClose:function(e,i){"backdropClick"!==i&&n()},className:m.root,children:[(0,y.jsxs)(d.Z,{className:m.title,children:[(0,y.jsxs)("div",{className:m.titleText,children:[C," ",u]}),(0,y.jsx)("div",{className:m.closeContainer,children:(0,y.jsx)(r.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,y.jsx)(j.Z,{})})})]}),(0,y.jsx)(f.Z,{isModal:!0}),(0,y.jsx)(o.Z,{open:N,className:m.snackBarModal,onClose:function(){K(!1),w((0,g.MK)(""))},message:B,ContentProps:{className:"".concat(m.snackBar," ").concat(P&&"error"===P.type?m.errorSnackBar:"")},autoHideDuration:P&&"error"===P.type?1e4:5e3}),(0,y.jsx)(x.Z,{className:_?"":m.content,children:p})]}))}))},60680:function(e,n,i){i(72791);var t=i(11135),s=i(25787),a=i(80184);n.Z=(0,s.Z)((function(e){return(0,t.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,i=e.children;return(0,a.jsx)("h1",{className:n.root,children:i})}))},3579:function(e,n,i){var t=i(64836);n.Z=void 0;var s=t(i(45649)),a=i(80184),c=(0,s.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");n.Z=c},20165:function(e,n,i){var t=i(64836);n.Z=void 0;var s=t(i(45649)),a=i(80184),c=(0,s.default)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");n.Z=c}}]);
//# sourceMappingURL=3549.0f0a0c5d.chunk.js.map