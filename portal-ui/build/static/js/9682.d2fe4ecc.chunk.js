"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9682],{33690:function(e,n,t){t.r(n);var o=t(29439),i=t(1413),a=t(72791),l=t(36151),s=t(11135),c=t(25787),r=t(61889),d=t(23814),u=t(81207),p=t(56028),m=t(90673),x=t(49324),f=t(92217),h=t(87995),Z=t(25469),g=t(19859),j=t(33168),v=t(80184);(0,s.Z)((0,i.Z)((0,i.Z)({},d.ID),d.bK));n.default=(0,c.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},d.DF),d.ID),d.bK))}))((function(e){var n=e.classes,t=e.open,i=e.bucketName,s=e.actualPolicy,c=e.actualDefinition,d=e.closeModalAndRefresh,b=(0,Z.TL)(),C=(0,j.$)().t,y=(0,a.useState)(!1),N=(0,o.Z)(y,2),S=N[0],k=N[1],M=(0,a.useState)(""),B=(0,o.Z)(M,2),P=B[0],w=B[1],L=(0,a.useState)(g.L),T=(0,o.Z)(L,2),I=T[0],_=T[1];return(0,a.useEffect)((function(){w(s),_(c?JSON.stringify(JSON.parse(c),null,4):g.L)}),[w,s,_,c]),(0,v.jsx)(p.Z,{title:C("change_access_policy"),modalOpen:t,onClose:function(){d()},titleIcon:(0,v.jsx)(x.QXQ,{}),children:(0,v.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),S||(k(!0),u.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/set-policy"),{access:P,definition:I}).then((function(e){k(!1),d()})).catch((function(e){k(!1),b((0,h.zb)(e))})))},children:(0,v.jsxs)(r.ZP,{container:!0,children:[(0,v.jsxs)(r.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,v.jsx)(r.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,v.jsx)(m.Z,{value:P,label:C("access_policy"),id:"select-access-policy",name:"select-access-policy",onChange:function(e){w(e.target.value)},options:[{value:"PRIVATE",label:C("private")},{value:"PUBLIC",label:C("public")},{value:"CUSTOM",label:C("custom")}]})}),"CUSTOM"===P&&(0,v.jsx)(r.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,v.jsx)(f.Z,{label:C("write_policy"),value:I,onBeforeChange:function(e,n,t){_(t)},editorHeight:"350px"})})]}),(0,v.jsxs)(r.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,v.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){d()},disabled:S,children:C("cancel")}),(0,v.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:S||"CUSTOM"===P&&!I,children:C("set")})]})]})})})}))},92217:function(e,n,t){var o=t(1413),i=t(72791),a=t(61889),l=t(30829),s=t(20068),c=t(64554),r=t(11135),d=t(25787),u=t(84570),p=t(23814),m=t(49324),x=t(40603),f=t(78029),h=t.n(f),Z=t(88406),g=t(33168),j=t(80184);n.Z=(0,d.Z)((function(e){return(0,r.Z)((0,o.Z)({},p.YI))}))((function(e){var n=e.value,t=e.label,o=void 0===t?"":t,r=e.tooltip,d=void 0===r?"":r,p=e.mode,f=void 0===p?"json":p,v=e.classes,b=e.onBeforeChange,C=(e.readOnly,e.editorHeight),y=void 0===C?"250px":C,N=(0,g.$)().t;return(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(a.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,j.jsxs)(l.Z,{className:v.inputLabel,children:[(0,j.jsx)("span",{children:o}),""!==d&&(0,j.jsx)("div",{className:v.tooltipContainer,children:(0,j.jsx)(s.Z,{title:d,placement:"top-start",children:(0,j.jsx)("div",{className:v.tooltip,children:(0,j.jsx)(u.Z,{})})})})]})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,style:{maxHeight:y,overflow:"auto",border:"1px solid #eaeaea"},children:(0,j.jsx)(Z.Z,{value:n,language:f,onChange:function(e){b(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:y||"initial",color:"#000000"}})}),(0,j.jsx)(a.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,j.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,j.jsx)(h(),{text:n,children:(0,j.jsx)(x.Z,{tooltip:N("copy_to_clipboard"),onClick:function(){},text:"",icon:(0,j.jsx)(m.TIy,{}),color:"primary",variant:"outlined"})})})})]})}))},56028:function(e,n,t){var o=t(29439),i=t(1413),a=t(72791),l=t(60364),s=t(13400),c=t(55646),r=t(5574),d=t(65661),u=t(39157),p=t(11135),m=t(25787),x=t(23814),f=t(25469),h=t(29823),Z=t(28057),g=t(87995),j=t(80184);n.Z=(0,m.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({},x.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,p=e.title,m=e.children,x=e.classes,v=e.wideLimit,b=void 0===v||v,C=e.noContentPadding,y=e.titleIcon,N=void 0===y?null:y,S=(0,f.TL)(),k=(0,a.useState)(!1),M=(0,o.Z)(k,2),B=M[0],P=M[1],w=(0,l.v9)((function(e){return e.system.modalSnackBar}));(0,a.useEffect)((function(){S((0,g.MK)(""))}),[S]),(0,a.useEffect)((function(){if(w){if(""===w.message)return void P(!1);"error"!==w.type&&P(!0)}}),[w]);var L=b?{classes:{paper:x.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},T="";return w&&(T=w.detailedErrorMsg,(""===w.detailedErrorMsg||w.detailedErrorMsg.length<5)&&(T=w.message)),(0,j.jsxs)(r.Z,(0,i.Z)((0,i.Z)({open:t,classes:x},L),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:x.root,children:[(0,j.jsxs)(d.Z,{className:x.title,children:[(0,j.jsxs)("div",{className:x.titleText,children:[N," ",p]}),(0,j.jsx)("div",{className:x.closeContainer,children:(0,j.jsx)(s.Z,{"aria-label":"close",id:"close",className:x.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,j.jsx)(h.Z,{})})})]}),(0,j.jsx)(Z.Z,{isModal:!0}),(0,j.jsx)(c.Z,{open:B,className:x.snackBarModal,onClose:function(){P(!1),S((0,g.MK)(""))},message:T,ContentProps:{className:"".concat(x.snackBar," ").concat(w&&"error"===w.type?x.errorSnackBar:"")},autoHideDuration:w&&"error"===w.type?1e4:5e3}),(0,j.jsx)(u.Z,{className:C?"":x.content,children:m})]}))}))},19859:function(e,n,t){t.d(n,{L:function(){return o}});var o='{\n    "Version": "2012-10-17",\n    "Statement": [\n        \n    ]\n}'}}]);
//# sourceMappingURL=9682.d2fe4ecc.chunk.js.map