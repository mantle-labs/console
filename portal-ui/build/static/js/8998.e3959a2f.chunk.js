(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8998],{45902:function(e,n,t){"use strict";var o=t(1413),r=(t(72791),t(53767)),i=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,s=e.value,a=void 0===s?"-":s,l=e.orientation,c=void 0===l?"column":l,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,f=void 0===x?{}:x,v=e.valProps,m=void 0===v?{}:v;return(0,i.jsxs)(r.Z,(0,o.Z)((0,o.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,i.jsx)("label",(0,o.Z)((0,o.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:t})),(0,i.jsx)("label",(0,o.Z)((0,o.Z)({style:{marginRight:5,fontWeight:500}},m),{},{children:a}))]}))}},51379:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var o=t(1413),r=t(72791),i=t(60364),s=t(16871),a=t(11135),l=t(25787),c=t(23814),u=t(61889),d=t(25469),x=t(29439),f=t(27391),v=t(63466),m=t(74900),p=t(40603),h=t(75900),Z=t(92983),j=t(17238),g=t(80184),y=(0,l.Z)((function(e){return(0,a.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},c.oZ),c.OR),c.VX),(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.setPoolDetailsView,o=(0,d.TL)(),a=(0,s.s0)(),l=(0,i.v9)((function(e){return e.tenants.loadingTenant})),c=(0,i.v9)((function(e){return e.tenants.tenantInfo})),y=(0,r.useState)([]),b=(0,x.Z)(y,2),C=b[0],k=b[1],P=(0,r.useState)(""),A=(0,x.Z)(P,2),w=A[0],S=A[1];(0,r.useEffect)((function(){if(c){var e=c.pools?c.pools:[];k(e)}}),[c]);var z=C.filter((function(e){return!!e.name.toLowerCase().includes(w.toLowerCase())})),R=[{type:"view",onClick:function(e){o((0,j.Lm)(e.name)),t()}}];return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,g.jsx)(f.Z,{placeholder:"Filter",className:n.searchField,id:"search-resource",label:"",onChange:function(e){S(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,g.jsx)(v.Z,{position:"start",children:(0,g.jsx)(m.Z,{})})},variant:"standard"}),(0,g.jsx)(p.Z,{tooltip:"Expand Tenant",text:"Expand Tenant",onClick:function(){a("/namespaces/".concat((null===c||void 0===c?void 0:c.namespace)||"","/tenants/").concat((null===c||void 0===c?void 0:c.name)||"","/add-pool"))},icon:(0,g.jsx)(h.dtP,{}),color:"primary",variant:"contained"})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(Z.Z,{itemActions:R,columns:[{label:"Name",elementKey:"name"},{label:"Capacity",elementKey:"capacity"},{label:"# of Instances",elementKey:"servers"},{label:"# of Drives",elementKey:"volumes"}],isLoading:l,records:z,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})})),b=t(64554),C=t(45902),k=t(45248),P=t(45987),A=t(53767),w=["children"],S=function(e){var n=e.children,t=void 0===n?null:n,r=(0,P.Z)(e,w);return(0,g.jsx)(A.Z,(0,o.Z)((0,o.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},r),{},{children:t}))},z={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},R={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},F=function(){var e,n,t,a=(0,s.s0)(),l=(0,i.v9)((function(e){return e.tenants.tenantInfo})),c=(0,i.v9)((function(e){return e.tenants.selectedPool})),d=(null===l||void 0===l?void 0:l.pools.find((function(e){return e.name===c})))||null;if(null===d)return null;var x="None";d.affinity&&(x=d.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var f=function(e){var n=e.title;return(0,g.jsx)(S,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,g.jsx)("h3",{children:n})})};return(0,g.jsx)(r.Fragment,{children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,sx:(0,o.Z)({},z),children:[(0,g.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,g.jsx)(p.Z,{icon:(0,g.jsx)(h.Jpd,{}),onClick:function(){a("/namespaces/".concat((null===l||void 0===l?void 0:l.namespace)||"","/tenants/").concat((null===l||void 0===l?void 0:l.name)||"","/edit-pool"))},text:"Edit Pool",id:"editPool"})}),(0,g.jsx)(f,{title:"Pool Configuration"}),(0,g.jsxs)(b.Z,{sx:(0,o.Z)({},R),children:[(0,g.jsx)(C.Z,{label:"Pool Name",value:d.name}),(0,g.jsx)(C.Z,{label:"Total Volumes",value:d.volumes}),(0,g.jsx)(C.Z,{label:"Volumes per server",value:d.volumes_per_server}),(0,g.jsx)(C.Z,{label:"Capacity",value:d.capacity})]}),(0,g.jsx)(f,{title:"Resources"}),(0,g.jsxs)(b.Z,{sx:(0,o.Z)({},R),children:[d.resources&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(C.Z,{label:"CPU",value:d.resources.requests.cpu}),(0,g.jsx)(C.Z,{label:"Memory",value:(0,k.l5)(d.resources.requests.memory)})]}),(0,g.jsx)(C.Z,{label:"Volume Size",value:(0,k.l5)(d.volume_configuration.size)}),(0,g.jsx)(C.Z,{label:"Storage Class Name",value:d.volume_configuration.storage_class_name})]}),d.securityContext&&(d.securityContext.runAsNonRoot||d.securityContext.runAsUser||d.securityContext.runAsGroup||d.securityContext.fsGroup)&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(f,{title:"Security Context"}),(0,g.jsxs)(b.Z,{children:[null!==d.securityContext.runAsNonRoot&&(0,g.jsx)(b.Z,{sx:(0,o.Z)({},R),children:(0,g.jsx)(C.Z,{label:"Run as Non Root",value:d.securityContext.runAsNonRoot?"Yes":"No"})}),(0,g.jsxs)(b.Z,{sx:(0,o.Z)((0,o.Z)({},R),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[d.securityContext.runAsUser&&(0,g.jsx)(C.Z,{label:"Run as User",value:d.securityContext.runAsUser}),d.securityContext.runAsGroup&&(0,g.jsx)(C.Z,{label:"Run as Group",value:d.securityContext.runAsGroup}),d.securityContext.fsGroup&&(0,g.jsx)(C.Z,{label:"FsGroup",value:d.securityContext.fsGroup})]})]})]}),(0,g.jsx)(f,{title:"Affinity"}),(0,g.jsxs)(b.Z,{children:[(0,g.jsxs)(b.Z,{sx:(0,o.Z)({},R),children:[(0,g.jsx)(C.Z,{label:"Type",value:x}),null!==(e=d.affinity)&&void 0!==e&&e.nodeAffinity&&null!==(n=d.affinity)&&void 0!==n&&n.podAntiAffinity?(0,g.jsx)(C.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,g.jsx)("span",{})]}),(null===(t=d.affinity)||void 0===t?void 0:t.nodeAffinity)&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(f,{title:"Labels"}),(0,g.jsx)("ul",{children:d.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.map((function(e){return e.matchExpressions.map((function(e){return(0,g.jsxs)("li",{children:[e.key," - ",e.values.join(", ")]})}))}))})]})]}),d.tolerations&&d.tolerations.length>0&&(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(f,{title:"Tolerations"}),(0,g.jsx)(b.Z,{children:(0,g.jsx)("ul",{children:d.tolerations.map((function(e){var n,t;return(0,g.jsx)("li",{children:"Equal"===e.operator?(0,g.jsxs)(r.Fragment,{children:["If ",(0,g.jsx)("strong",{children:e.key})," is equal to"," ",(0,g.jsx)("strong",{children:e.value})," then"," ",(0,g.jsx)("strong",{children:e.effect})," after"," ",(0,g.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,g.jsxs)(r.Fragment,{children:["If ",(0,g.jsx)("strong",{children:e.key})," exists then"," ",(0,g.jsx)("strong",{children:e.effect})," after"," ",(0,g.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})},N=t(84669),T=(0,l.Z)((function(e){return(0,a.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},c.oZ),c.OR),c.VX),(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,d.TL)(),o=(0,s.TH)().pathname,a=void 0===o?"":o,l=(0,i.v9)((function(e){return e.tenants.selectedPool})),c=(0,i.v9)((function(e){return e.tenants.poolDetailsOpen}));return(0,g.jsxs)(r.Fragment,{children:[c&&(0,g.jsx)(u.ZP,{item:!0,xs:12,children:(0,g.jsx)(N.Z,{executeOnClick:function(){t((0,j.AH)(!1))},label:"Pools list",to:a})}),(0,g.jsx)("h1",{className:n.sectionTitle,children:c?"Pool Details - ".concat(l||""):"Pools"}),(0,g.jsx)(u.ZP,{container:!0,children:c?(0,g.jsx)(F,{}):(0,g.jsx)(y,{setPoolDetailsView:function(){t((0,j.AH)(!0))}})})]})}))},26759:function(e,n,t){"use strict";var o=t(95318);n.Z=void 0;var r=o(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");n.Z=s},70366:function(e,n,t){"use strict";var o=t(95318);n.Z=void 0;var r=o(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");n.Z=s},97911:function(e,n,t){"use strict";var o=t(95318);n.Z=void 0;var r=o(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");n.Z=s},94454:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var o=t(4942),r=t(63366),i=t(87462),s=t(72791),a=t(94419),l=t(12065),c=t(97278),u=t(76189),d=t(80184),x=(0,u.Z)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),f=(0,u.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),v=(0,u.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),m=t(14036),p=t(31402),h=t(66934),Z=t(21217);function j(e){return(0,Z.Z)("MuiCheckbox",e)}var g=(0,t(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],b=(0,h.ZP)(c.Z,{shouldForwardProp:function(e){return(0,h.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,"default"!==t.color&&n["color".concat((0,m.Z)(t.color))]]}})((function(e){var n,t=e.theme,r=e.ownerState;return(0,i.Z)({color:t.palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:(0,l.Fq)("default"===r.color?t.palette.action.active:t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(n={},(0,o.Z)(n,"&.".concat(g.checked,", &.").concat(g.indeterminate),{color:t.palette[r.color].main}),(0,o.Z)(n,"&.".concat(g.disabled),{color:t.palette.action.disabled}),n))})),C=(0,d.jsx)(f,{}),k=(0,d.jsx)(x,{}),P=(0,d.jsx)(v,{}),A=s.forwardRef((function(e,n){var t,o,l=(0,p.Z)({props:e,name:"MuiCheckbox"}),c=l.checkedIcon,u=void 0===c?C:c,x=l.color,f=void 0===x?"primary":x,v=l.icon,h=void 0===v?k:v,Z=l.indeterminate,g=void 0!==Z&&Z,A=l.indeterminateIcon,w=void 0===A?P:A,S=l.inputProps,z=l.size,R=void 0===z?"medium":z,F=(0,r.Z)(l,y),N=g?w:h,T=g?w:u,V=(0,i.Z)({},l,{color:f,indeterminate:g,size:R}),E=function(e){var n=e.classes,t=e.indeterminate,o=e.color,r={root:["root",t&&"indeterminate","color".concat((0,m.Z)(o))]},s=(0,a.Z)(r,j,n);return(0,i.Z)({},n,s)}(V);return(0,d.jsx)(b,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":g},S),icon:s.cloneElement(N,{fontSize:null!=(t=N.props.fontSize)?t:R}),checkedIcon:s.cloneElement(T,{fontSize:null!=(o=T.props.fontSize)?o:R}),ownerState:V,ref:n},F,{classes:E}))}))},53767:function(e,n,t){"use strict";var o=t(4942),r=t(63366),i=t(87462),s=t(72791),a=t(51184),l=t(45682),c=t(78519),u=t(82466),d=t(66934),x=t(31402),f=t(80184),v=["component","direction","spacing","divider","children"];function m(e,n){var t=s.Children.toArray(e).filter(Boolean);return t.reduce((function(e,o,r){return e.push(o),r<t.length-1&&e.push(s.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var p=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,r=(0,i.Z)({display:"flex"},(0,a.k9)({theme:t},(0,a.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var s=(0,l.hB)(t),c=Object.keys(t.breakpoints.values).reduce((function(e,t){return null==n.spacing[t]&&null==n.direction[t]||(e[t]=!0),e}),{}),d=(0,a.P$)({values:n.direction,base:c}),x=(0,a.P$)({values:n.spacing,base:c});r=(0,u.Z)(r,(0,a.k9)({theme:t},x,(function(e,t){return{"& > :not(style) + :not(style)":(0,o.Z)({margin:0},"margin".concat((r=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,l.NA)(s,e))};var r})))}return r})),h=s.forwardRef((function(e,n){var t=(0,x.Z)({props:e,name:"MuiStack"}),o=(0,c.Z)(t),s=o.component,a=void 0===s?"div":s,l=o.direction,u=void 0===l?"column":l,d=o.spacing,h=void 0===d?0:d,Z=o.divider,j=o.children,g=(0,r.Z)(o,v),y={direction:u,spacing:h};return(0,f.jsx)(p,(0,i.Z)({as:a,ownerState:y,ref:n},g,{children:Z?m(j,Z):j}))}));n.Z=h},26769:function(e,n,t){var o=t(39066),r=t(93629),i=t(43141);e.exports=function(e){return"string"==typeof e||!r(e)&&i(e)&&"[object String]"==o(e)}}}]);
//# sourceMappingURL=8998.e3959a2f.chunk.js.map